<p id="notice"><%= notice %></p>

<h1>Users</h1>

<table class="table table-striped table-bordered">
  <thead>
  <tr>
    <th>First Name</th>
    <th>Last Name</th>
    <th>Username</th>
    <th>Role</th>
    <th colspan="3"></th>
    <th>Admin Privileges</th>
  </tr>
  </thead>

  <tbody>
  <% @users.each do |user| %>
    <tr>
      <td><%= user.firstname %></td>
      <td><%= user.lastname %></td>
      <td><%= user.email %></td>
      <td><%= user.role %></td>
      <td><%= link_to 'Show', user %></td>
      <td><%= link_to 'Edit', edit_user_path(user) %></td>
      <td><%= link_to 'Delete', user, method: :delete, data: {confirm: 'Are you sure?'} %></td>
      <% if user.role == 'admin' %>
        <td><%= link_to 'Revoke Admin', user, method: :toggle_admin %></td>
      <% else %>
        <td><%= link_to 'Confer Admin', user, method: :toggle_admin %></td>
      <% end %>
    </tr>
  <% end %>
  </tbody>
</table>

<br>

